(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{450:function(module,exports,__webpack_require__){var errorEx=__webpack_require__(831);module.exports={InitialisationFailed:errorEx("InitialisationFailed")}},471:function(module,exports,__webpack_require__){__webpack_require__(472),__webpack_require__(628),__webpack_require__(629),__webpack_require__(840),__webpack_require__(841),__webpack_require__(845),__webpack_require__(846),__webpack_require__(844),__webpack_require__(843),__webpack_require__(847),__webpack_require__(848),module.exports=__webpack_require__(823)},539:function(module,exports){},629:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(332)},823:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(332).configure)([__webpack_require__(824)],module,!1)}).call(this,__webpack_require__(187)(module))},824:function(module,exports,__webpack_require__){var map={"./UIPredicate.stories.js":842};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=824},830:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=830},836:function(module,exports,__webpack_require__){var api=__webpack_require__(837),content=__webpack_require__(838);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},838:function(module,exports,__webpack_require__){(exports=__webpack_require__(839)(!1)).push([module.i,".ui-predicate__main {\n  display: flex;\n}\n.ui-predicate__row {\n  flex-direction: row;\n}\n.ui-predicate__col {\n  display: inline-block;\n  margin: 0 2px;\n}\n.ui-predicate__options {\n  display: flex;\n}\n",""]),module.exports=exports},842:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MinimalConfiguration",(function(){return MinimalConfiguration})),__webpack_require__.d(__webpack_exports__,"Events",(function(){return Events})),__webpack_require__.d(__webpack_exports__,"CustomizeDefaultUIComponents",(function(){return CustomizeDefaultUIComponents})),__webpack_require__.d(__webpack_exports__,"CustomizeCSS",(function(){return CustomizeCSS}));__webpack_require__(9),__webpack_require__(825),__webpack_require__(14),__webpack_require__(279);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types),jsx_runtime=(__webpack_require__(422),__webpack_require__(31),__webpack_require__(36),__webpack_require__(18),__webpack_require__(101),__webpack_require__(42),__webpack_require__(40),__webpack_require__(44),__webpack_require__(53),__webpack_require__(10),__webpack_require__(117),__webpack_require__(6));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Input(_ref){var type=_ref.type,value=_ref.value,_onChange=_ref.onChange;return Object(jsx_runtime.jsx)("input",{type:type,value:value||"",onChange:function onChange(e){return _onChange(e.target.value)}})}Input.displayName="Input",Input.propTypes={type:prop_types_default.a.string,value:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]),onChange:prop_types_default.a.func};var _fixtures_ColorArgument=function ColorArgument(props){return Object(jsx_runtime.jsx)(Input,Object.assign({type:"color"},props))};_fixtures_ColorArgument.displayName="ColorArgument";var _fixtures_DateArgument=function DateArgument(props){return Object(jsx_runtime.jsx)(Input,Object.assign({type:"date"},props))};_fixtures_DateArgument.displayName="DateArgument";var _fixtures_TextArgument=function TextArgument(props){return Object(jsx_runtime.jsx)(Input,Object.assign({type:"text"},props))};_fixtures_TextArgument.displayName="TextArgument";var _fixtures_NumberArgument=function NumberArgument(props){return Object(jsx_runtime.jsx)(Input,Object.assign({type:"number"},props))};function DateRangePickerArgument(_ref4){var value=_ref4.value,onChange=_ref4.onChange,_useState=Object(react.useState)(function fromValue(value){var _ref3=_slicedToArray(Array.isArray(value)?value:[],2);return{start:_ref3[0],end:_ref3[1]}}(value)),_useState2=_slicedToArray(_useState,2),range=_useState2[0],setRange=_useState2[1];function updateRange(newPartialState){var newState=Object.assign({},range,newPartialState);setRange(newState),onChange([newState.start,newState.end])}return Object(jsx_runtime.jsxs)("div",{style:{display:"flex",width:300},children:[Object(jsx_runtime.jsx)("input",{type:"date",value:range.start,onChange:function onChange(e){return updateRange({start:e.target.value})}}),Object(jsx_runtime.jsx)("span",{children:"and"}),Object(jsx_runtime.jsx)("input",{type:"date",value:range.end,onChange:function onChange(e){return updateRange({end:e.target.value})}})]})}_fixtures_NumberArgument.displayName="NumberArgument",DateRangePickerArgument.displayName="DateRangePickerArgument",DateRangePickerArgument.propTypes={value:prop_types_default.a.array,onChange:prop_types_default.a.func};var DEFAULT_CONFIG={operators:[{operator_id:"is",label:"is",argumentType_id:"smallString"},{operator_id:"contains",label:"Contains",argumentType_id:"smallString"},{operator_id:"isLowerThan",label:"<",argumentType_id:"number"},{operator_id:"isEqualTo",label:"=",argumentType_id:"number"},{operator_id:"isHigherThan",label:">",argumentType_id:"number"},{operator_id:"is_date",label:"is",argumentType_id:"datepicker"},{operator_id:"isBetween_date",label:"is between",argumentType_id:"daterangepicker"},{operator_id:"isBrighterThan",label:"is brighter than",argumentType_id:"colorpicker"},{operator_id:"isDarkerThan",label:"is darker than",argumentType_id:"colorpicker"},{operator_id:"is_color",label:"is",argumentType_id:"colorpicker"}],types:[{type_id:"int",operator_ids:["isLowerThan","isEqualTo","isHigherThan"]},{type_id:"string",operator_ids:["is","contains"]},{type_id:"datetime",operator_ids:["is_date","isBetween_date"]},{type_id:"color",operator_ids:["isBrighterThan","isDarkerThan","is_color"]}],targets:[{target_id:"article.title",label:"Article title",type_id:"string"},{target_id:"article.videoCount",label:"Article video count",type_id:"int"},{target_id:"article.publishingAt",label:"Article publish date",type_id:"datetime"},{target_id:"article.color",label:"Article main color",type_id:"color"}],logicalTypes:[{logicalType_id:"any",label:"Any"},{logicalType_id:"all",label:"All"},{logicalType_id:"none",label:"None"}],argumentTypes:[{argumentType_id:"datepicker",component:_fixtures_DateArgument},{argumentType_id:"colorpicker",component:_fixtures_ColorArgument},{argumentType_id:"daterangepicker",component:DateRangePickerArgument},{argumentType_id:"smallString",component:_fixtures_TextArgument},{argumentType_id:"number",component:_fixtures_NumberArgument}]},DATASETS={simple:{logicalType_id:"all",predicates:[{target_id:"article.videoCount",operator_id:"isHigherThan",argument:10}]},advanced:{logicalType_id:"all",predicates:[{target_id:"article.title",operator_id:"contains",argument:"paradise"},{target_id:"article.videoCount",operator_id:"isHigherThan",argument:2},{logicalType_id:"none",predicates:[{target_id:"article.publishingAt",operator_id:"isBetween_date",argument:["2017-10-05","2018-10-05"]},{target_id:"article.publishingAt",operator_id:"isBetween_date",argument:["2010-10-05","2011-10-05"]},{target_id:"article.color",operator_id:"is_color",argument:"#e20400"},{target_id:"article.color",operator_id:"isDarkerThan",argument:"#783d3e"}]}]}},UIPredicateContext=Object(react.createContext)(null);function useUIPredicateContext(){var context=Object(react.useContext)(UIPredicateContext);if(!context)throw new Error("The component needs to be wrapped in the `UIPredicate` component.");return context}function UIPredicateOptions(_ref){var predicate=_ref.predicate,_useUIPredicateContex=useUIPredicateContext(),add=_useUIPredicateContex.add,remove=_useUIPredicateContex.remove,isInAddCompoundMode=_useUIPredicateContex.isInAddCompoundMode,UITypes=_useUIPredicateContex.UITypes,getUIComponent=_useUIPredicateContex.getUIComponent,AddComponent=getUIComponent(UITypes.PREDICATE_ADD),RemoveComponent=getUIComponent(UITypes.PREDICATE_REMOVE);return Object(jsx_runtime.jsxs)("div",{className:"ui-predicate__options",children:[Object(jsx_runtime.jsx)("div",{className:"ui-predicate__option",children:Object(jsx_runtime.jsx)(RemoveComponent,{onClick:function onClick(){return remove(predicate)},predicate:predicate,isInAddCompoundMode:isInAddCompoundMode,disabled:!predicate.$canBeRemoved})}),Object(jsx_runtime.jsx)("div",{className:"ui-predicate__option",children:Object(jsx_runtime.jsx)(AddComponent,{predicate:predicate,isInAddCompoundMode:isInAddCompoundMode,onClick:function onClick(){return add(predicate)}})})]})}function UIPredicateComparison(_ref){var predicate=_ref.predicate,columns=_ref.columns,_useUIPredicateContex=useUIPredicateContext(),setPredicateTarget_id=_useUIPredicateContex.setPredicateTarget_id,setPredicateOperator_id=_useUIPredicateContex.setPredicateOperator_id,UITypes=_useUIPredicateContex.UITypes,getUIComponent=_useUIPredicateContex.getUIComponent,TargetsComponent=getUIComponent(UITypes.TARGETS),OperatorsComponent=getUIComponent(UITypes.OPERATORS);return Object(jsx_runtime.jsxs)("div",{className:"ui-predicate__row ui-predicate__row--comparison",children:[Object(jsx_runtime.jsx)("div",{className:"ui-predicate__col",children:Object(jsx_runtime.jsx)(TargetsComponent,{columns:columns,predicate:predicate,onChange:function onChange(target_id){return setPredicateTarget_id(predicate,target_id)}})}),Object(jsx_runtime.jsx)("div",{className:"ui-predicate__col",children:Object(jsx_runtime.jsx)(OperatorsComponent,{columns:columns,predicate:predicate,onChange:function onChange(operator_id){return setPredicateOperator_id(predicate,operator_id)}})}),Object(jsx_runtime.jsx)("div",{className:"ui-predicate__col",children:Object(jsx_runtime.jsx)("div",{className:"ui-predicate__arguments",children:Object(jsx_runtime.jsx)(UIPredicateComparisonArgument,{predicate:predicate})})}),Object(jsx_runtime.jsx)("div",{className:"ui-predicate__col",children:Object(jsx_runtime.jsx)(UIPredicateOptions,{predicate:predicate})})]})}function UIPredicateComparisonArgument(_ref){var predicate=_ref.predicate,_useUIPredicateContex=useUIPredicateContext(),getArgumentTypeComponentById=_useUIPredicateContex.getArgumentTypeComponentById,setArgumentValue=_useUIPredicateContex.setArgumentValue;return react_default.a.createElement(getArgumentTypeComponentById(predicate.operator.argumentType_id),{predicate:predicate,value:predicate.argument,onChange:function onChange(value){setArgumentValue(predicate,value)}})}function UIPredicateCompound(_ref){var predicate=_ref.predicate,columns=_ref.columns,_useUIPredicateContex=useUIPredicateContext(),setPredicateLogicalType_id=_useUIPredicateContex.setPredicateLogicalType_id,UITypes=_useUIPredicateContex.UITypes,LogicalTypesComponent=(0,_useUIPredicateContex.getUIComponent)(UITypes.LOGICAL_TYPES);return Object(jsx_runtime.jsxs)("div",{className:"ui-predicate__row--compound",children:[Object(jsx_runtime.jsxs)("div",{className:"ui-predicate__row",children:[Object(jsx_runtime.jsx)("div",{className:"ui-predicate__col",children:predicate.logic&&Object(jsx_runtime.jsx)(LogicalTypesComponent,{predicate:predicate,columns:columns,onChange:function onChange(logicalType_id){setPredicateLogicalType_id(predicate,logicalType_id)}})}),Object(jsx_runtime.jsx)("div",{className:"ui-predicate__col",children:Object(jsx_runtime.jsx)(UIPredicateOptions,{predicate:predicate})})]}),predicate.predicates.map((function(childPredicate,index){var ChildPredicateComponent="CompoundPredicate"===childPredicate.$_type?UIPredicateCompound:"ComparisonPredicate"===childPredicate.$_type?UIPredicateComparison:void 0;return ChildPredicateComponent?Object(jsx_runtime.jsx)(ChildPredicateComponent,{predicate:childPredicate,columns:columns},index):null}))]})}UIPredicateOptions.displayName="UIPredicateOptions",UIPredicateOptions.propTypes={predicate:prop_types_default.a.object},UIPredicateOptions.__docgenInfo={description:"",methods:[],displayName:"UIPredicateOptions",props:{predicate:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UIPredicateOptions.js"]={name:"UIPredicateOptions",docgenInfo:UIPredicateOptions.__docgenInfo,path:"src/components/UIPredicateOptions.js"}),UIPredicateComparison.displayName="UIPredicateComparison",UIPredicateComparison.propTypes={predicate:prop_types_default.a.object,columns:prop_types_default.a.object},UIPredicateComparison.__docgenInfo={description:"",methods:[],displayName:"UIPredicateComparison",props:{predicate:{type:{name:"object"},required:!1,description:""},columns:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UIPredicateComparison.js"]={name:"UIPredicateComparison",docgenInfo:UIPredicateComparison.__docgenInfo,path:"src/components/UIPredicateComparison.js"}),UIPredicateComparisonArgument.propTypes={predicate:prop_types_default.a.object},UIPredicateComparisonArgument.__docgenInfo={description:"",methods:[],displayName:"UIPredicateComparisonArgument",props:{predicate:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UIPredicateComparisonArgument.js"]={name:"UIPredicateComparisonArgument",docgenInfo:UIPredicateComparisonArgument.__docgenInfo,path:"src/components/UIPredicateComparisonArgument.js"}),UIPredicateCompound.displayName="UIPredicateCompound",UIPredicateCompound.propTypes={predicate:prop_types_default.a.object,columns:prop_types_default.a.object},UIPredicateCompound.__docgenInfo={description:"",methods:[],displayName:"UIPredicateCompound",props:{predicate:{type:{name:"object"},required:!1,description:""},columns:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UIPredicateCompound.js"]={name:"UIPredicateCompound",docgenInfo:UIPredicateCompound.__docgenInfo,path:"src/components/UIPredicateCompound.js"});__webpack_require__(51),__webpack_require__(828),__webpack_require__(829);var _UITypes$TARGETS$UITy,ui_predicate_core=__webpack_require__(61),errors=__webpack_require__(450),lodash_assign=__webpack_require__(285),assign_default=__webpack_require__.n(lodash_assign);function Target(_ref){var columns=_ref.columns,predicate=_ref.predicate,_onChange=_ref.onChange;return Object(jsx_runtime.jsx)("select",{className:"ui-predicate__targets",value:predicate.target.target_id,onChange:function onChange(e){return _onChange(e.target.value)},children:columns.targets.map((function(target){return Object(jsx_runtime.jsx)("option",{value:target.target_id,children:target.label},target.label)}))})}function LogicalTypes(_ref){var predicate=_ref.predicate,columns=_ref.columns,_onChange=_ref.onChange;return Object(jsx_runtime.jsx)("select",{className:"ui-predicate__logic",value:predicate.logic.logicalType_id,onChange:function onChange(e){return _onChange(e.target.value)},children:columns.logicalTypes.map((function(logicalType){return Object(jsx_runtime.jsx)("option",{value:logicalType.logicalType_id,children:logicalType.label},logicalType.label)}))})}function Operators(_ref){var predicate=_ref.predicate,_onChange=_ref.onChange;return Object(jsx_runtime.jsx)("select",{className:"ui-predicate__operators",value:predicate.operator.operator_id,onChange:function onChange(e){return _onChange(e.target.value)},children:predicate.target.$type.$operators.map((function(operator){return Object(jsx_runtime.jsx)("option",{value:operator.operator_id,children:operator.label},operator.label)}))})}function PredicateAdd(_ref){var isInAddCompoundMode=_ref.isInAddCompoundMode,onClick=_ref.onClick;return Object(jsx_runtime.jsx)("button",{type:"button",onClick:onClick,children:isInAddCompoundMode?"…":"+"})}function PredicateRemove(_ref){var disabled=_ref.disabled,onClick=_ref.onClick;return Object(jsx_runtime.jsx)("button",{type:"button",disabled:disabled,onClick:onClick,children:"-"})}function ArgumentDefault(_ref){var value=_ref.value,_onChange=_ref.onChange;return Object(jsx_runtime.jsx)("input",{type:"text",value:value,onChange:function onChange(e){return _onChange(e.target.value)}})}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Target.displayName="Target",Target.propTypes={columns:prop_types_default.a.object,predicate:prop_types_default.a.object,onChange:prop_types_default.a.func},Target.__docgenInfo={description:"",methods:[],displayName:"Target",props:{columns:{type:{name:"object"},required:!1,description:""},predicate:{type:{name:"object"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/default-components/Targets.js"]={name:"Target",docgenInfo:Target.__docgenInfo,path:"src/components/default-components/Targets.js"}),LogicalTypes.displayName="LogicalTypes",LogicalTypes.propTypes={predicate:prop_types_default.a.object,columns:prop_types_default.a.object,onChange:prop_types_default.a.func},LogicalTypes.__docgenInfo={description:"",methods:[],displayName:"LogicalTypes",props:{predicate:{type:{name:"object"},required:!1,description:""},columns:{type:{name:"object"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/default-components/LogicalTypes.js"]={name:"LogicalTypes",docgenInfo:LogicalTypes.__docgenInfo,path:"src/components/default-components/LogicalTypes.js"}),Operators.displayName="Operators",Operators.propTypes={predicate:prop_types_default.a.object,columns:prop_types_default.a.object,onChange:prop_types_default.a.func},Operators.__docgenInfo={description:"",methods:[],displayName:"Operators",props:{predicate:{type:{name:"object"},required:!1,description:""},columns:{type:{name:"object"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/default-components/Operators.js"]={name:"Operators",docgenInfo:Operators.__docgenInfo,path:"src/components/default-components/Operators.js"}),PredicateAdd.displayName="PredicateAdd",PredicateAdd.propTypes={isInAddCompoundMode:prop_types_default.a.bool,onClick:prop_types_default.a.func},PredicateAdd.__docgenInfo={description:"",methods:[],displayName:"PredicateAdd",props:{isInAddCompoundMode:{type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/default-components/PredicateAdd.js"]={name:"PredicateAdd",docgenInfo:PredicateAdd.__docgenInfo,path:"src/components/default-components/PredicateAdd.js"}),PredicateRemove.displayName="PredicateRemove",PredicateRemove.propTypes={disabled:prop_types_default.a.bool,onClick:prop_types_default.a.func},PredicateRemove.__docgenInfo={description:"",methods:[],displayName:"PredicateRemove",props:{disabled:{type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/default-components/PredicateRemove.js"]={name:"PredicateRemove",docgenInfo:PredicateRemove.__docgenInfo,path:"src/components/default-components/PredicateRemove.js"}),ArgumentDefault.displayName="ArgumentDefault",ArgumentDefault.propTypes={value:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]),onChange:prop_types_default.a.func},ArgumentDefault.__docgenInfo={description:"",methods:[],displayName:"ArgumentDefault",props:{value:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/default-components/ArgumentDefault.js"]={name:"ArgumentDefault",docgenInfo:ArgumentDefault.__docgenInfo,path:"src/components/default-components/ArgumentDefault.js"});var default_components=(_defineProperty(_UITypes$TARGETS$UITy={},ui_predicate_core.UITypes.TARGETS,Target),_defineProperty(_UITypes$TARGETS$UITy,ui_predicate_core.UITypes.LOGICAL_TYPES,LogicalTypes),_defineProperty(_UITypes$TARGETS$UITy,ui_predicate_core.UITypes.OPERATORS,Operators),_defineProperty(_UITypes$TARGETS$UITy,ui_predicate_core.UITypes.PREDICATE_ADD,PredicateAdd),_defineProperty(_UITypes$TARGETS$UITy,ui_predicate_core.UITypes.PREDICATE_REMOVE,PredicateRemove),_defineProperty(_UITypes$TARGETS$UITy,ui_predicate_core.UITypes.ARGUMENT_DEFAULT,ArgumentDefault),_UITypes$TARGETS$UITy),defaults={options:{getDefaultArgumentComponent:function getDefaultArgumentComponent(columns,options,ui){return ui[ui_predicate_core.UITypes.ARGUMENT_DEFAULT]}}};function UIPredicateCoreReact(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},data=_ref.data,columns=_ref.columns,ui=_ref.ui,options=_ref.options;return Object(ui_predicate_core.PredicateCore)({data:data,columns:columns,ui:assign_default()({},default_components,ui),options:assign_default()({},defaults.options,options)})}UIPredicateCoreReact.defaults=defaults;__webpack_require__(836);function UIPredicate_slicedToArray(arr,i){return function UIPredicate_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function UIPredicate_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function UIPredicate_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return UIPredicate_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UIPredicate_arrayLikeToArray(o,minLen)}(arr,i)||function UIPredicate_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UIPredicate_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function UIPredicate_UIPredicate(_ref){var _ref$data=_ref.data,data=void 0===_ref$data?{}:_ref$data,columns=_ref.columns,ui=_ref.ui,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$onChange=_ref.onChange,_onChange=void 0===_ref$onChange?function(){}:_ref$onChange,_useState2=UIPredicate_slicedToArray(Object(react.useState)(null),2),ctrl=_useState2[0],setCtrl=_useState2[1],_useState4=UIPredicate_slicedToArray(Object(react.useState)({}),2),setAST=(_useState4[0],_useState4[1]);return Object(react.useEffect)((function(){UIPredicateCoreReact({data:data,columns:columns,ui:ui}).then(setCtrl,(function(err){return Promise.reject(Object.assign(new errors.InitialisationFailed,{cause:err}))}))}),[]),ctrl?Object(jsx_runtime.jsx)("div",{className:className,children:Object(jsx_runtime.jsx)(UIPredicateView,{ctrl:ctrl,columns:columns,onChange:function onChange(newAST){setAST(newAST),_onChange(newAST)}})}):null}function UIPredicateView(_ref2){var ctrl=_ref2.ctrl,columns=_ref2.columns,onChange=_ref2.onChange,_useState6=UIPredicate_slicedToArray(Object(react.useState)(!1),2),isInAddCompoundMode=_useState6[0],setIsInAddCompoundMode=_useState6[1];return Object(react.useEffect)((function(){onChange(ctrl.toJSON()),ctrl.on("changed",(function(){onChange(ctrl.toJSON())}))}),[]),Object(react.useEffect)((function(){function onAltKey(_ref3){var newIsInAddCompoundMode=_ref3.newIsInAddCompoundMode;return function(e){18===e.keyCode&&setIsInAddCompoundMode(newIsInAddCompoundMode)}}var onAltPressed=onAltKey({newIsInAddCompoundMode:!0}),onAltReleased=onAltKey({newIsInAddCompoundMode:!1});return window.addEventListener("keyup",onAltReleased),window.addEventListener("keydown",onAltPressed),function(){window.removeEventListener("keyup",onAltReleased),window.removeEventListener("keydown",onAltPressed)}}),[]),Object(jsx_runtime.jsx)(UIPredicateContext.Provider,{value:{UITypes:ui_predicate_core.UITypes,isInAddCompoundMode:isInAddCompoundMode,add:function add(predicate){return ctrl.add({where:predicate,how:"after",type:isInAddCompoundMode?"CompoundPredicate":"ComparisonPredicate"})},remove:function remove(predicate){return ctrl.remove(predicate)},setPredicateLogicalType_id:function setPredicateLogicalType_id(predicate,logicalType_id){return ctrl.setPredicateLogicalType_id(predicate,logicalType_id)},setPredicateTarget_id:function setPredicateTarget_id(predicate,target_id){return ctrl.setPredicateTarget_id(predicate,target_id)},setPredicateOperator_id:function setPredicateOperator_id(predicate,operator_id){return ctrl.setPredicateOperator_id(predicate,operator_id)},getArgumentTypeComponentById:function getArgumentTypeComponentById(argumentType_id){return ctrl.getArgumentTypeComponentById(argumentType_id)},setArgumentValue:function setArgumentValue(predicate,value){return ctrl.setArgumentValue(predicate,value)},getUIComponent:function getUIComponent(name){return ctrl.getUIComponent(name)}},children:Object(jsx_runtime.jsx)("div",{className:"ui-predicate__main",children:ctrl&&Object(jsx_runtime.jsx)(UIPredicateCompound,{predicate:ctrl.root,columns:columns})})})}UIPredicate_UIPredicate.displayName="UIPredicate",UIPredicate_UIPredicate.propTypes={data:prop_types_default.a.object,columns:prop_types_default.a.object,ui:prop_types_default.a.object,className:prop_types_default.a.string,onChange:prop_types_default.a.func},UIPredicateView.displayName="UIPredicateView",UIPredicateView.propTypes={ctrl:prop_types_default.a.object,columns:prop_types_default.a.object,onChange:prop_types_default.a.func},UIPredicate_UIPredicate.__docgenInfo={description:"",methods:[],displayName:"UIPredicate",props:{data:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onChange:{defaultValue:{value:"() => undefined",computed:!1},type:{name:"func"},required:!1,description:""},columns:{type:{name:"object"},required:!1,description:""},ui:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UIPredicate.js"]={name:"UIPredicate",docgenInfo:UIPredicate_UIPredicate.__docgenInfo,path:"src/components/UIPredicate.js"});var UIPredicate_stories_UITypes=__webpack_require__(61).UITypes,UIPredicate_stories_Template=(__webpack_exports__.default={title:"UIPredicate",component:UIPredicate_UIPredicate,argTypes:{onChange:{action:"`change` event"}}},function Template(args){return Object(jsx_runtime.jsx)(UIPredicate_UIPredicate,Object.assign({},args))});UIPredicate_stories_Template.displayName="Template";var MinimalConfiguration=UIPredicate_stories_Template.bind({});Object.assign(MinimalConfiguration,{args:{data:DATASETS.simple,columns:DEFAULT_CONFIG},parameters:{notes:"## minimal configuration\n\n`<ui-predicate/>` only requires a `columns` object.\nThat's how you will pass your `targets`,`operators` , `types` and `logicalTypes`.\n"}});var Events=UIPredicate_stories_Template.bind({});function CustomizedComponent(_ref){var predicate=_ref.predicate,columns=_ref.columns,_onChange=_ref.onChange;return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("input",{id:"targets-selector",list:"targets-datalist",defaultValue:predicate.target.target_id}),Object(jsx_runtime.jsx)("datalist",{id:"targets-datalist",onChange:function onChange(e){return _onChange(e.target.value)},children:columns.targets.map((function(target){return Object(jsx_runtime.jsx)("option",{value:target.target_id,children:target.label},target.target_id)}))})]})}Object.assign(Events,{args:{data:DATASETS.advanced,columns:DEFAULT_CONFIG}}),CustomizedComponent.displayName="CustomizedComponent",CustomizedComponent.propTypes={predicate:prop_types_default.a.object,columns:prop_types_default.a.object,onChange:prop_types_default.a.func};var CustomizeDefaultUIComponents=UIPredicate_stories_Template.bind({});Object.assign(CustomizeDefaultUIComponents,{args:{columns:DEFAULT_CONFIG,data:DATASETS.advanced,ui:function UIPredicate_stories_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},UIPredicate_stories_UITypes.TARGETS,CustomizedComponent)},parameters:{notes:'## Core ui-predicate component override\n\nIf you need to override defaults ui-predicate UI components to match your needs, use the `ui` prop.\n\n```javascript\nimport { UITypes } from "ui-predicate-core";\nconst MyCustomComponent = {\n  /* VueJS Component Definition */\n};\n\nconst UI_OVERRIDES = {\n  [UITypes.TARGETS]: MyCustomComponent,\n  [UITypes.LOGICAL_TYPES]: MyCustomComponent,\n  [UITypes.OPERATORS]: MyCustomComponent,\n  [UITypes.PREDICATE_ADD]: MyCustomComponent,\n  [UITypes.PREDICATE_REMOVE]: MyCustomComponent,\n  // If UIPredicate can\'t find a component related to your argumentType_id\n  // This component will be used as a fallback.\n  // By default it just an <input type="text">\n  [UITypes.ARGUMENT_DEFAULT]: MyCustomComponent\n};\n```\n'}});var CustomizeCSS=UIPredicate_stories_Template.bind({});Object.assign(CustomizeCSS,{args:{data:DATASETS.advanced,columns:DEFAULT_CONFIG,className:"custom-css"},parameters:{notes:"Please prefer to override your own ui-predicate core components (see Customize default UI components).\n\n## CSS class names\n\n- `.ui-predicate__main`: select the whole ui-predicate div container\n- `.ui-predicate__row`: select every rows div container\n- `.ui-predicate__row--compound`: select every predicate compound row div containers\n- `.ui-predicate__row--comparison`: select every predicate comparison row div containers\n- `.ui-predicate__col`: select every column (targets, operators, arguments and option) div containers\n- `.ui-predicate__targets`: select the every target columns div container\n- `.ui-predicate__operators`: select every operators div container\n- `.ui-predicate__arguments`: select every arguments div container\n- `.ui-predicate__options`: select every option div container\n- `.ui-predicate__option`: select one option div container\n- `.ui-predicate__logic`: select every logic div container\n"}}),MinimalConfiguration.parameters=Object.assign({storySource:{source:"args => <UIPredicate {...args} />"}},MinimalConfiguration.parameters),Events.parameters=Object.assign({storySource:{source:"args => <UIPredicate {...args} />"}},Events.parameters),CustomizeDefaultUIComponents.parameters=Object.assign({storySource:{source:"args => <UIPredicate {...args} />"}},CustomizeDefaultUIComponents.parameters),CustomizeCSS.parameters=Object.assign({storySource:{source:"args => <UIPredicate {...args} />"}},CustomizeCSS.parameters)},848:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(17),__webpack_require__(31),__webpack_require__(46),__webpack_require__(820),__webpack_require__(37),__webpack_require__(38),__webpack_require__(821),__webpack_require__(822),__webpack_require__(279);var client_api=__webpack_require__(853),esm=__webpack_require__(5),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[471,2,3]]]);